# Core FastAPI and async dependencies
fastapi==0.115.4
uvicorn[standard]==0.32.0
sse-starlette==2.1.3
starlette>=0.41.3  # Fix for denial-of-service vulnerability

# Database and async support
sqlalchemy[asyncio]==2.0.36
asyncpg==0.30.0
alembic==1.14.0

# Caching and session management
redis==5.2.0

# Security and authentication
PyJWT>=2.8.0  # Replaced python-jose to avoid ecdsa vulnerability
cryptography==44.0.1
passlib[bcrypt]==1.7.4
workos>=5.0.0  # WorkOS SSO integration

# Monitoring and metrics
prometheus-client==0.21.0

# AI and LLM integration
# Using LiteLLM directly instead of CrewAI/LangChain for:
# - 50+ fewer dependencies
# - Faster CI/CD (no complex resolution)
# - Full control over agent behavior
# - Easier debugging (no framework magic)
# - Stability (no surprise breaking changes)
openai>=1.58.1,<2.0.0
litellm>=1.48.0,<2.0.0
instructor==1.3.3

# HTTP client and utilities
httpx>=0.28.1
tenacity>=8.2.3,<9.0.0  # instructor requires tenacity<9
python-multipart==0.0.22
websockets==14.1

# Data validation and settings
pydantic>=2.10.4  # workos requires >=2.10.4
pydantic-settings>=2.6.1

# Build tools
setuptools>=75.0.0  # Fix for path traversal and RCE vulnerabilities

# PDF processing
pypdf>=6.4.0  # Fix for RAM exhaustion vulnerabilities

# Additional pins for dependency resolution
jiter>=0.4.1,<0.5.0  # instructor requires jiter<0.5.0

# Document export formats (EPUB, PDF, DOCX)
ebooklib>=0.18  # EPUB generation
python-docx>=1.1.0  # DOCX generation
reportlab>=4.2.0  # PDF generation
epubcheck>=5.1.0  # EPUB3 validation (requires Java JRE 8+)
